{"version":3,"sources":["Test.js","index.js"],"names":["Test","useState","amount","setAmount","amountError","setAmountError","notificationVisible","setNotificationVisible","sendSuccess","setSendSuccess","amt","useRef","amtErr","createOrder","data","actions","current","order","create","purchase_units","value","payee","email_address","onApprove","capture","then","details","shipping","currency_code","name","full_name","useEffect","paypal","window","Buttons","render","className","style","height","justifyContent","Notification","variant","onClose","type","onChange","event","val","target","isInvalid","console","log","placeholder","id","children","onClick","App","state","Component","document","getElementById"],"mappings":"oKAEe,SAASA,IAAQ,IAAD,EACDC,mBAAS,IADR,mBACtBC,EADsB,KACdC,EADc,OAESF,oBAAS,GAFlB,mBAEtBG,EAFsB,KAETC,EAFS,OAGyBJ,oBAAS,GAHlC,mBAGtBK,EAHsB,KAGDC,EAHC,OAISN,mBAAS,IAJlB,mBAItBO,EAJsB,KAITC,EAJS,KAKvBC,EAAMC,iBAAOT,GACjBU,EAASD,iBAAOP,GAGZS,EAAc,SAACC,EAAMC,GACzB,IAAIH,EAAOI,QAKX,OAAOD,EAAQE,MAAMC,OAAO,CAC1BC,eAAgB,CACd,CACEjB,OAAQ,CACNkB,MAAOV,EAAIM,SAEbK,MAAO,CACLC,cAAe,4CAXrBf,GAAuB,IAmBrBgB,EAAY,SAACT,EAAMC,GACvB,OAAOA,EAAQE,MAAMO,UAAUC,MAAK,SAACC,GAAa,IAAD,cAG3CA,EADFP,eAF6C,MAE1BjB,EAF0B,EAE1BA,OAAQyB,EAFkB,EAElBA,SAE7BlB,EAAe,qBAAD,OACSP,EAAO0B,cAAgB1B,EAAOkB,MADvC,eAEVO,EAASE,KAAKC,UAFJ,UASlBC,qBAAU,WACR,IAAMC,EAASC,OAAOD,OAClBA,GACFA,EACGE,QAAQ,CACPrB,cACAU,cAEDY,OAAO,2BAEX,IAsBH,OACE,yBACEC,UAAU,uBACVC,MAAO,CACLC,OAAQ,QACRC,eAAgB,WAGlB,yBAAKH,UAAU,yBACV5B,GACD,kBAACgC,EAAD,CAAcC,QAAQ,aAAaC,QAAS,kBAAMjC,EAAe,MAC9DD,GAGJF,GACC,kBAACkC,EAAD,CAAcC,QAAQ,YAAYC,QAnBd,WAC1BnC,GAAuB,KAkBjB,yBACwB,yCADxB,KAKF,yBAAK6B,UAAU,kBACb,yBAAKA,UAAU,WACb,8BACE,yBAAKA,UAAU,SACb,2BAAOA,UAAU,SAAjB,sBACA,yBACEA,UAAS,iBAAYhC,EAAc,mBAAqB,KAExD,2BACEgC,UAAU,QACVO,KAAK,SACLC,SAlDK,SAACC,GACtB,IAAMC,GAAOD,EAAME,OAAO3B,OAAS,EAC7B4B,EAAYF,EAAM,GACxBzC,EAAe2C,GACfpC,EAAOI,QAAUgC,EAEZA,GACHzC,GAAuB,GAGzBJ,EAAU2C,GACVpC,EAAIM,QAAU8B,EACdG,QAAQC,IAAI,OAAQhD,EAAQE,IAuCZgB,MAAOlB,EACPiD,YAAY,cAEb/C,GACC,0BAAMgC,UAAU,0BACd,uBAAGA,UAAU,kCAIlBhC,GACC,uBAAGgC,UAAU,kBAAb,kCAKJ,yBAAKgB,GAAG,8BAStB,SAASZ,EAAT,GAAuD,IAA/BC,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,QAASW,EAAY,EAAZA,SACxC,OACE,yBAAKjB,UAAS,uBAAkBK,GAAW,KACzC,4BAAQL,UAAU,SAASkB,QAASZ,IACnCW,G,UCrIDE,E,kDACJ,aAAe,IAAD,8BACZ,gBACKC,MAAQ,CACX3B,KAAM,SAHI,E,qDAQZ,OAAO,kBAAC7B,EAAD,U,GATOyD,aAalBtB,iBAAO,kBAAC,EAAD,MAASuB,SAASC,eAAe,S","file":"static/js/main.8c246e80.chunk.js","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\n\r\nexport default function Test() {\r\n  const [amount, setAmount] = useState(0.5);\r\n  const [amountError, setAmountError] = useState(false);\r\n  const [notificationVisible, setNotificationVisible] = useState(false);\r\n  const [sendSuccess, setSendSuccess] = useState(\"\");\r\n  const amt = useRef(amount),\r\n    amtErr = useRef(amountError);\r\n\r\n  // Initiate order\r\n  const createOrder = (data, actions) => {\r\n    if (amtErr.current) {\r\n      setNotificationVisible(true);\r\n      return;\r\n    }\r\n\r\n    return actions.order.create({\r\n      purchase_units: [\r\n        {\r\n          amount: {\r\n            value: amt.current,\r\n          },\r\n          payee: {\r\n            email_address: \"sb-vxlkm2646812@personal.example.com\",\r\n          },\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  // Once the order has been approved\r\n  const onApprove = (data, actions) => {\r\n    return actions.order.capture().then((details) => {\r\n      const {\r\n        purchase_units: [{ amount, shipping }],\r\n      } = details;\r\n      setSendSuccess(\r\n        `Successfully sent ${amount.currency_code + amount.value} to ${\r\n          shipping.name.full_name\r\n        }.`\r\n      );\r\n    });\r\n  };\r\n\r\n  // Setup the buttons\r\n  useEffect(() => {\r\n    const paypal = window.paypal;\r\n    if (paypal) {\r\n      paypal\r\n        .Buttons({\r\n          createOrder,\r\n          onApprove,\r\n        })\r\n        .render(\"#paypal-btn-container\");\r\n    }\r\n  }, []);\r\n\r\n  // Handle change and amount validation\r\n  const onAmountChange = (event) => {\r\n    const val = +event.target.value || 0;\r\n    const isInvalid = val < 0.5;\r\n    setAmountError(isInvalid);\r\n    amtErr.current = isInvalid;\r\n\r\n    if (!isInvalid) {\r\n      setNotificationVisible(false);\r\n    }\r\n\r\n    setAmount(val);\r\n    amt.current = val;\r\n    console.log(\"Data\", amount, amountError);\r\n  };\r\n\r\n  const onNotificationClose = () => {\r\n    setNotificationVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"columns is-vcentered\"\r\n      style={{\r\n        height: \"100vh\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <div className=\"column is-one-third\">\r\n        {!!sendSuccess && (\r\n          <Notification variant=\"is-success\" onClose={() => setSendSuccess(\"\")}>\r\n            {sendSuccess}\r\n          </Notification>\r\n        )}\r\n        {notificationVisible && (\r\n          <Notification variant=\"is-danger\" onClose={onNotificationClose}>\r\n            You can send at least <strong>$0.50</strong>.\r\n          </Notification>\r\n        )}\r\n\r\n        <div className=\"card px-3 pt-4\">\r\n          <div className=\"content\">\r\n            <form>\r\n              <div className=\"field\">\r\n                <label className=\"label\">Amount to send ($)</label>\r\n                <div\r\n                  className={`control${amountError ? \" has-icons-right\" : \"\"}`}\r\n                >\r\n                  <input\r\n                    className=\"input\"\r\n                    type=\"number\"\r\n                    onChange={onAmountChange}\r\n                    value={amount}\r\n                    placeholder=\"e.g 43.55\"\r\n                  />\r\n                  {amountError && (\r\n                    <span className=\"icon is-small is-right\">\r\n                      <i className=\"fas fa-exclamation-triangle\"></i>\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                {amountError && (\r\n                  <p className=\"help is-danger\">\r\n                    Value should be at least 0.50\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div id=\"paypal-btn-container\"></div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Notification({ variant, onClose, children }) {\r\n  return (\r\n    <div className={`notification ${variant || \"\"}`}>\r\n      <button className=\"delete\" onClick={onClose}></button>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Test from './Test';\nimport 'bulma';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: 'React'\n    };\n  }\n\n  render() {\n    return <Test />;\n  }\n}\n\nrender(<App />, document.getElementById('app'));\n"],"sourceRoot":""}